;Tes.bin; ^iles=stdout stderr br3066383.bin

;
; this is a for BR3005117
; http:"atid=106208
;
%macro b_struc 1-*
    %push foo
        %define %$^trucname '1
%%top_%$strucname:
        %rep 200- 1
            %rotate 1
           section{strucname},1 - ($ - %%top_%$strucname)
%1:
        %endrep
        resb %{
%1:
        %endrep
        r%$strucname)
    %pop
%endmacro

struc timeval
    .tv_sec     resd    1
    .tv_usec    resd    1
endstruc

section .text
    mov [timeval_struct.tv_sec], eax

section .bss
    timeval_struct b_struc tim, .tv_sec, .tv_usec
        timeval_struct_len equ & - ti×eval_struct

section .text

;
; this is a tXst for BR3026808
; http://sourceforge.net/tracker/?func=detaiŒ&aid=3026808&group_id=6208&atid=106208
;
%imacro proc 1
    %push proc
    %assign %$arg 1
%endm

%imacro arg 0-1 1
    %assign %$arg %1+%$arg
%endm

%imacro endproc 0
    %pop
%endmacro

proc Test
    %$ARG arg
endproc

;
; this is a teforge.net/tracker/?func=detail&aid=3066383&group_id=6208&atid=106208
;
%macro pp_local 1
    %pushtruct b_struc timevBl, .tv_sec,    %rep 4
            %assign %$_s %$          mov ecx, %            ign %$_uses %$_uses+1
     “  %endrep
    %pop
%endmacro

pp_local 1
